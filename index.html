<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Best Recipe Best Price</title>
  <!-- Bootstrap CSS CDN  -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/css/bootstrap.min.css" />
  <link rel="stylesheet" type="text/css" href="style.css">
 <!-- JQuery   -->
  <script src="https://code.jquery.com/jquery.js"></script>
<!-- Google Fonts   -->
  <link href="https://fonts.googleapis.com/css?family=Anton" rel="stylesheet">

  <body>
      <header>
            <img src="logo_best_recipe_red.png"width="200px">
          Best Recipe - Best Price
          
      </header>
  </body>

  <div class="left-panel">
        <div class="videos">
            <div class="video-Item">VIDEO RECIPE 1</div>
            <div class="video-Item">VIDEO RECIPE 2</div>
            <div class="video-Item">VIDEO RECIPE 3</div>
        </div>
        <div class="recipe">
            <div class="recipe-Item"> RECIPE 1</div>
            <div class="recipe-Item"> RECIPE 2</div>
            <div class="recipe-Item"> RECIPE 3</div>

        </div>

  </div>
  


<div class="right-panel">
        <form>
            <div class="row">
                <div class="form-group col-md-6">
                    <label for="input-Search-Ingredient"></label>
                    <input type="Ingredient" class="form-control" id="input-Search-Ingredient" placeholder="Ingredient">
                    <button id="searchIng">Search</button>
                    </div>
            </div>
        </form>
</div>

  
  

<!--API KEY RECIPES
key: API Key
  q: (optional) Search Query (Ingredients should be separated by commas). If this is omitted top rated recipes will be returned.
  sort: (optional) How the results should be sorted. See Below for details.
  page: (optional) Used to get additional results
  url : https://www.food2fork.com/api/search?key=YOUR_API_KEY&q=chicken%20breast&page=2 

-->

<script>
var ajaxResponse;

$("#searchIng").on("click", function(event) {

 event.preventDefault();

var ApiKey = "280029588e92537b7a82371cbb66b661";
var search = $("#input-Search-Ingredient").val().trim();;
var queryURL= "https://www.food2fork.com/api/search?key="+ ApiKey + "&q="+ search; // + "&page=2";

//https://www.food2fork.com/api/search?key=280029588e92537b7a82371cbb66b661&q=dessert


/*"publisher": "All Recipes",
"f2f_url": "http://food2fork.com/view/11332",
      "title": "Dessert Crepes",
      "source_url": "http://allrecipes.com/Recipe/Dessert-Crepes/Detail.aspx",
      "recipe_id": "11332",
      "image_url": "http://static.food2fork.com/42741693ad.jpg",
      "social_rank": 99.9999999998884,
      "publisher_url": "http://allrecipes.com"
      */

  $.ajax({
        url: queryURL,
        method: "GET"
      })

.then(function(response) {
    response = JSON.parse(response);
    // console.log(response.count);

    var recipe = $("<div>");
    recipe.addClass("recipe-Item");
    //console.log(response["recipes"]);
    recipe.text(response["recipes"][0].title);
    $(".recipe").append(recipe);
    

    var urlRecipe = $("<div");
    urlRecipe.addClass ("recipe-Item");
    //console.log(response["recipes"]);
    recipe.text(response["recipes"][0].source_url);
    $(".recipe").append(urlRecipe);

    
    var imageUrl = $("<img>").attr("src", image_url);
    imageUrl.addClass ("recipe-Item");
    //console.log(response["recipes"]);
    recipe.text(response["recipes"][0].image_url);
    $(".recipe").append(imageUrl);

    

    });
}).error(function(err){
    console.log(err);
});


</script>